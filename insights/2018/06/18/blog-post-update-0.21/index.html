<!doctype html><html class=no-js lang=en-us><head><link rel=preconnect href=https://cdnjs.cloudflare.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com><link rel=preconnect href=https://www.googletagmanager.com><meta charset=utf-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>microPlatform update 0.21 | Foundries.io</title><link rel="shortcut icon" href=/images/icons/favicon.ico><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,400,500,700,900"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css integrity="sha256-HtCCUh9Hkh//8U1OwcbD8epVEUdBvuI8wj1KtqMhNkI=" crossorigin=anonymous><link rel=stylesheet href=/css/foundation.min.228f9b8bdf4aae06e794eb13011f0858c2d27f9d39a55e09bbe84ff4bc8644c4.css><link rel=stylesheet href=/style.insights.bundle.min.45a0b1fda8e1e5f5f1542fbf38e49772e444b686e45a193cfb3c87c52fd7e51f.css></head><body><div class="top sticky"><div class=row><div class="small-12 large-3 medium-3 columns"><div class=logo><a href=/><img src=/images/logo.png alt="Foundries.io logo"></a></div></div><div class="small-12 large-9 medium-9 columns"><nav class=desktop-menu><ul class=sf-menu id=navigation><li><a href=/>HOME</a></li><li><a href=/products/>PRODUCTS</a><ul class=nav-menu><li><a href=/products/>MICROPLATFORMS</a></li><li><a href=/pricing/>PRICING</a></li><li><a href=/hardware/>HARDWARE</a></li></ul></li><li><a href=/partners/>PARTNERS</a></li><li><a href=/insights/>INSIGHTS</a><ul class=nav-menu><li><a href=/insights/>BLOG</a></li><li><a href=/categories/updates/>UPDATES</a></li></ul></li><li><a href=/company/>ABOUT</a><ul class=nav-menu><li><a href=/company/>COMPANY</a></li><li><a href=/labs/>LABS</a></li><li><a href=/careers/>CAREERS</a></li></ul></li><li><a href="https://app.foundries.io/login/?next=/"><i class="fa fa-cloud-upload"></i>&nbsp;ENGAGE</a><ul class=nav-menu><li><a href=https://app.foundries.io/docs/>DOCUMENTATION</a></li><li><a href="https://app.foundries.io/login/?next=/">DASHBOARD</a></li><li><a href=https://forums.foundries.io>FORUMS</a></li><li><a href=https://support.foundries.io>SUPPORT</a></li><li><a href=https://join.slack.com/t/foundriesio/shared_invite/enQtMjUwNzA1MTc4NzA4LTI2YTc4YjUyMTY2NWE3NTQxOTJjYjY3M2NkNTVmYjM2M2JhZGYzNDM1Mzk4MzkxMDI5ZWNhOWUzMWVlYmI4NDE>SLACK</a></li><li><a href="https://app.foundries.io/login/?next=/">GET STARTED</a></li></ul></li></ul></nav></div></div></div><header class=alt-6><div class=message><div class=row><div class="small-12 columns"><div class=message-intro><span class=message-line></span><p>FOUNDRIES.IO INSIGHTS</p><span class=message-line></span></div><h1>microPlatform update 0.21</h1><p class="text-muted text-uppercase mb-small text-right color-white">June 18, 2018</p></div></div></div></header><div id=content><div class=container><div class=row><div class="small-12 columns" id=insights-post><div id=post-content><h1 id=summary>Summary</h1><h2 id=zephyr-microplatform-changes-for-0-21>Zephyr microPlatform changes for 0.21</h2><p>Zephyr v1.12, MCUboot changes for v1.2.0, minor sample adjustments</p><h2 id=linux-microplatform-changes-for-0-21>Linux microPlatform changes for 0.21</h2><p>OSF Unified Linux Kernel updated to the 4.16.15 stable release.
U-Boot-Fslc updated to the 2018.05-based release.
Core layer updates based on the latest Yocto master changes.</p><h1 id=zephyr-microplatform>Zephyr microPlatform</h1><h2 id=summary-1>Summary</h2><p>Zephyr v1.12, MCUboot changes for v1.2.0, minor sample adjustments</p><h2 id=highlights>Highlights</h2><ul><li>Zephyr v1.12 is merged; this is the last update from this development tree.</li><li>Various MCUboot updates from v1.2.0, including new dependency on click</li><li>No changes to the sample applications</li></ul><h2 id=components>Components</h2><h3 id=mcuboot>MCUboot</h3><h4 id=features>Features</h4><h5 id=click-is-now-mandatory>Click is now mandatory:</h5><ul><li>The Python click package is now mandatory to use
MCUboot. Users must install it on their development
workstations.</li></ul><h5 id=new-slot-size-imgtool-flag>New &ndash;slot-size imgtool flag:</h5><ul><li>The imgtool script has changed incompatibly to require
a &ndash;slot-size option for ensuring images fit in their
slots without explicitly padding them with &ndash;pad. If
you&rsquo;re calling this script manually, you will need to
use this argument. Users of the zmp script are not
affected, as it has been kept up to date.</li></ul><h5 id=new-logging-platform-abstraction>New logging platform abstraction:</h5><ul><li>A new mechanism has been added to abstract out the
platform-specific logging mechanism. This is the final
piece of the core bootutil library that was not behind
a proper platform abstraction.</li></ul><h5 id=kconfig-for-key-management>Kconfig for key management:</h5><ul><li>A new, mandatory, CONFIG_BOOT_SIGNATURE_KEY_FILE knob
was added. This specifies a key file in .PEM format to
use when building MCUboot. This replaces hard-coded
keys formerly found in the MCUboot source code,
allowing MCUboot users to manage keys without having
to change the MCUboot source code.</li></ul><p>If you&rsquo;re building MCUboot by hand, you will need to
either build MCUboot with a CONF_FILE overlay that
specifies the path to the key file you would like to
use, or edit the prj.conf to uncomment the examples in
there. If you&rsquo;re using the zmp tool, the default
demonstration key is specified using an overlay
generated at runtime; you can use your own keys with
the -K / &ndash;signing-key option to &ldquo;zmp build&rdquo;.</p><h4 id=bugs>Bugs</h4><h5 id=miscellaneous-fixes>Miscellaneous fixes:</h5><ul><li>Miscellaneous fixes and cleanups include clearing out
old image header format cruft from v1 in the
assemble.py script, a trailer size calculation fix
elsewhere, and more.</li></ul><h3 id=zephyr>Zephyr</h3><h4 id=features-1>Features</h4><h5 id=continuous-integration>Continuous Integration:</h5><ul><li>Sanitycheck can now export tests in CSV format.</li></ul><h4 id=bugs-1>Bugs</h4><h5 id=arches>Arches:</h5><ul><li>A variety of ARC fixes were merged. These fix
overflows in the privileged stack, IRQ offloading, the
ADC and watchdog timer priority levels, reset
instability, and a couple of issues related to
exception handling.</li></ul><p>A bug preventing i.MX RT SoCs from booting correctly
was fixed as well; this also has the nice benefit of
eliminating a vast number of Kconfig warnings emitted
when building for other boards.</p><h5 id=bluetooth>Bluetooth:</h5><ul><li>A fix for a Coverity bug related to corrupted flash
storage of persistent settings was merged, along with
a fix to retransmit interval handling in the Mesh
implementation, and an invalid pointer access after
disconnect in the ATT code.</li></ul><h5 id=build>Build:</h5><ul><li>A fix to the kernel helpers for the GCC toolchain was
merged which resolves unaligned access issues on GCC
&gt;= 7.</li></ul><h5 id=continuous-integration-1>Continuous Integration:</h5><ul><li>A sanitycheck bug leading to false positive test pass
reporting was fixed.</li></ul><h5 id=documentation>Documentation:</h5><ul><li>The final batch of documentation patches covered
release notes, issues in the Getting Started guide,
initial documentation for the experimental West meta-
tool, updates to the security documentation, and some
watchdog API documentation.</li></ul><h5 id=kernel>Kernel:</h5><ul><li>Architecture-specific attempts to provide thread
arguments using its initial stack layout were replaced
with common code, trading off extra memory to fix
broken and incomplete implementations in some
architectures.</li></ul><h5 id=libraries>Libraries:</h5><ul><li>A fix was merged for a readdir() buffer out of bounds
access discovered by Coverity.</li></ul><h5 id=networking>Networking:</h5><ul><li>An LWM2M bug was fixed which fixes mandatory rate
limiting on the frequency of notifications for
observed object instance attributes. The LWM2M engine
thread priority was also lowered, fixing a thread
starvation issue when running LWM2M concurrently with
Bluetooth (e.g. as part of a 6LoWPAN setup).</li></ul><p>The IPv4 stack now correctly updates the time-to-live
value based on the received packet header; a similar
fix was merged for IPv6 hop limits.</p><h5 id=samples>Samples:</h5><ul><li>Some last-minute changes were merged to crypto and
networking samples.</li></ul><p>The crypto changes appear to have been merged because
samples/drivers/crypto is in fact being used as a test
case in addition to serving as sample code, so they
perhaps could be considered test fixes.</p><p>The networking changes were fixes for bugs discovered
by Coverity.</p><h5 id=testing>Testing:</h5><ul><li>A variety of patches fixing up and tuning the test
cases were merged in the final days of v1.12
development.</li></ul><h5 id=foundries-io-patches>Foundries.io patches:</h5><ul><li>A minor change to the WCN14A2A LTE-M modem&rsquo;s Kconfig
was merged, fixing what is currently a Kconfiglib
warning that upstream has subsequently upgraded to an
error.</li></ul><h3 id=hawkbit-and-mqtt-sample-application>hawkBit and MQTT sample application</h3><h4 id=features-2>Features</h4><ul><li>Not addressed in this update</li></ul><h4 id=bugs-2>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=lwm2m-sample-application>LWM2M sample application</h3><h4 id=features-3>Features</h4><ul><li>Not addressed in this update</li></ul><h4 id=bugs-3>Bugs</h4><ul><li><p>Not addressed in this update</p><h1 id=linux-microplatform>Linux microPlatform</h1></li></ul><h2 id=summary-2>Summary</h2><p>OSF Unified Linux Kernel updated to the 4.16.15 stable release.
U-Boot-Fslc updated to the 2018.05-based release.
Core layer updates based on the latest Yocto master changes.</p><h2 id=highlights-1>Highlights</h2><ul><li>OSF Unified Linux Kernel updated to 4.16.15.</li><li>U-Boot-Fslc updated to the 2018.05-based release.</li></ul><h2 id=components-1>Components</h2><h3 id=meta-freescale>Meta Freescale</h3><h4 id=features-4>Features</h4><h5 id=layer-update>Layer Update:</h5><ul><li>U-boot-fslc updated to the 2018.05-based release.
New i.MX fork for gstreamer1.0, gstreamer1.0-plugins-base,
gstreamer1.0-plugins-good and gstreamer1.0-plugins-bad.
Imx-codec, imx-parser, imx-vpuwrap and imx-gst1.0-plugin
updated to v4.3.4.
Imx-usb-loader updated to the e539461 revision.</li></ul><h4 id=bugs-4>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-freescale-3rdparty>Meta Freescale 3rdparty</h3><h4 id=features-5>Features</h4><h5 id=layer-update-1>Layer Update:</h5><ul><li>Device tree name updated for imx7d-pico.
Updated u-boot configuration for imx7s-warp.</li></ul><h4 id=bugs-5>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-intel>Meta Intel</h3><h4 id=features-6>Features</h4><h5 id=layer-update-2>Layer Update:</h5><ul><li>New WKS file enabling grub-efi bootloader.
Thermald updated to 1.7.2.</li></ul><h4 id=bugs-6>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-qualcomm>Meta Qualcomm</h3><h4 id=features-7>Features</h4><h5 id=layer-update-3>Layer Update:</h5><ul><li>Updated bootr and bootrr to the latest revision available.</li></ul><h4 id=bugs-7>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-raspberrypi>Meta RaspberryPi</h3><h4 id=features-8>Features</h4><h5 id=layer-update-4>Layer Update:</h5><ul><li>Support for the at86rf233 device tree overlay.</li></ul><h4 id=bugs-8>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-virtualization>Meta Virtualization</h3><h4 id=features-9>Features</h4><h5 id=layer-update-5>Layer Update:</h5><ul><li>Lxc updated to 3.0.1.
Libvirt updated to v4.3.0.
Added tini 0.18.0 recipe to provide docker-init.</li></ul><h4 id=bugs-9>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-updater-layer>Meta Updater Layer</h3><h4 id=features-10>Features</h4><h5 id=layer-update-6>Layer Update:</h5><ul><li>HTTP basic auth added to the garage-sign task.
Aktualizr updated to the latest revision available,
including support to log the ostree update process.</li></ul><h4 id=bugs-10>Bugs</h4><ul><li>Not addressed in this update</li></ul><h3 id=meta-osf-layer>Meta OSF Layer</h3><h4 id=features-11>Features</h4><h5 id=layer-update-7>Layer Update:</h5><ul><li>OSF Unified Linux Kernel updated to 4.16.15.
Added lmp-device-register recipe, used to register an LMP
device with OSF OTA+.
Haveged included in lmp-mini-image and lmp-gateway-image
to remedy low-entropy during boot.
Fbdev MXS driver removed from linux-osf in favor of the
drm driver.
Python3-requests removed from lmp-mini-image as device
registration is now done via lmp-device-register.</li></ul><h4 id=bugs-11>Bugs</h4><ul><li>Not addressed in this update</li></ul></div><div id=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"foundriesio"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><div class=row><div class="small-12 columns"><div class=post-categories><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Categories</h3></div><div class=panel-body><ul class="nav nav-pills nav-stacked"><li><a href=https://foundries.io/categories/blockchain>blockchain (1)</a></li><li><a href=https://foundries.io/categories/conferences>conferences (3)</a></li><li><a href=https://foundries.io/categories/demos>demos (1)</a></li><li><a href=https://foundries.io/categories/fota>fota (8)</a></li><li><a href=https://foundries.io/categories/microplatform>microplatform (6)</a></li><li><a href=https://foundries.io/categories/news-and-media>news-and-media (2)</a></li><li><a href=https://foundries.io/categories/updates>updates (40)</a></li><li><a href=https://foundries.io/categories/zephyr-mp>zephyr-mp (2)</a></li><li><a href=https://foundries.io/categories/zephyr-news>zephyr-news (16)</a></li></ul></div></div><div class="panel sidebar-menu"><div class=panel-heading><h3 class=panel-title>Tags</h3></div><div class=panel-body><ul class=tag-cloud><li><a href=https://foundries.io/tags/assistant><i class="fa fa-tags"></i>assistant</a></li><li><a href=https://foundries.io/tags/att><i class="fa fa-tags"></i>att</a></li><li><a href=https://foundries.io/tags/ble><i class="fa fa-tags"></i>ble</a></li><li><a href=https://foundries.io/tags/blockchain><i class="fa fa-tags"></i>blockchain</a></li><li><a href=https://foundries.io/tags/bugs><i class="fa fa-tags"></i>bugs</a></li><li><a href=https://foundries.io/tags/container><i class="fa fa-tags"></i>container</a></li><li><a href=https://foundries.io/tags/containers><i class="fa fa-tags"></i>containers</a></li><li><a href=https://foundries.io/tags/crypto><i class="fa fa-tags"></i>crypto</a></li><li><a href=https://foundries.io/tags/cve><i class="fa fa-tags"></i>cve</a></li><li><a href=https://foundries.io/tags/decentralized><i class="fa fa-tags"></i>decentralized</a></li><li><a href=https://foundries.io/tags/demos><i class="fa fa-tags"></i>demos</a></li><li><a href=https://foundries.io/tags/docker><i class="fa fa-tags"></i>docker</a></li><li><a href=https://foundries.io/tags/docker-compose><i class="fa fa-tags"></i>docker-compose</a></li><li><a href=https://foundries.io/tags/fota><i class="fa fa-tags"></i>fota</a></li><li><a href=https://foundries.io/tags/foundries.io><i class="fa fa-tags"></i>foundries.io</a></li><li><a href=https://foundries.io/tags/google><i class="fa fa-tags"></i>google</a></li><li><a href=https://foundries.io/tags/iot><i class="fa fa-tags"></i>iot</a></li><li><a href=https://foundries.io/tags/k8s><i class="fa fa-tags"></i>k8s</a></li><li><a href=https://foundries.io/tags/keys><i class="fa fa-tags"></i>keys</a></li><li><a href=https://foundries.io/tags/kubernetes><i class="fa fa-tags"></i>kubernetes</a></li><li><a href=https://foundries.io/tags/linux><i class="fa fa-tags"></i>linux</a></li><li><a href=https://foundries.io/tags/lte><i class="fa fa-tags"></i>lte</a></li><li><a href=https://foundries.io/tags/lwm2m><i class="fa fa-tags"></i>lwm2m</a></li><li><a href=https://foundries.io/tags/management><i class="fa fa-tags"></i>management</a></li><li><a href=https://foundries.io/tags/mcuboot><i class="fa fa-tags"></i>mcuboot</a></li><li><a href=https://foundries.io/tags/media><i class="fa fa-tags"></i>media</a></li><li><a href=https://foundries.io/tags/microplatform><i class="fa fa-tags"></i>microplatform</a></li><li><a href=https://foundries.io/tags/open-source><i class="fa fa-tags"></i>open-source</a></li><li><a href=https://foundries.io/tags/ota><i class="fa fa-tags"></i>ota</a></li><li><a href=https://foundries.io/tags/portainer><i class="fa fa-tags"></i>portainer</a></li><li><a href=https://foundries.io/tags/press><i class="fa fa-tags"></i>press</a></li><li><a href=https://foundries.io/tags/radio><i class="fa fa-tags"></i>radio</a></li><li><a href=https://foundries.io/tags/resin><i class="fa fa-tags"></i>resin</a></li><li><a href=https://foundries.io/tags/security><i class="fa fa-tags"></i>security</a></li><li><a href=https://foundries.io/tags/update><i class="fa fa-tags"></i>update</a></li><li><a href=https://foundries.io/tags/whitepaper><i class="fa fa-tags"></i>whitepaper</a></li><li><a href=https://foundries.io/tags/zephyr><i class="fa fa-tags"></i>zephyr</a></li><li><a href=https://foundries.io/tags/zmp><i class="fa fa-tags"></i>zmp</a></li></ul></div></div></div></div></div></div></div><footer><div class=row><div class="columns small-12 medium-6"><div class=contacts><i class="fa fa-map-marker"></i>CAMBRIDGE, UK</div></div><div class="columns small-12 medium-6"><div class=contacts><i class="fa fa-map-marker"></i>SEATTLE, WA USA</div></div></div><div class="row footerlinks"><div class="columns small-12 medium-3 border-right"><h2>About Foundries.io</h2><p>Foundries.io is changing the IoT landscape by delivering continuously
updated software platforms for a secure, connected world.</p></div><div class="columns small-12 medium-3 border-right"><h2>Company</h2><ul><li><a href=https://foundries.io/company/>About</a></li><li><a href=https://foundries.io/careers/>Careers</a></li><li><a href=https://support.foundries.io/>Support</a></li><li><a href=https://foundries.io/labs/>Labs</a></li></ul></div><div class="columns small-12 medium-3 border-right"><h2>Connect</h2><ul class=social-links><li><a href=https://twitter.com/foundriesio><i class="fa fa-twitter fa-2x"></i></a></li><li><a href=https://www.facebook.com/foundriesio><i class="fa fa-facebook fa-2x"></i></a></li><li><a href=https://www.linkedin.com/company/foundriesio/><i class="fa fa-linkedin fa-2x"></i></a></li><li><a href=https://github.com/foundriesio><i class="fa fa-github fa-2x"></i></a></li><li><a href=https://foundriesio.slack.com/join/shared_invite/enQtMjUwNzA1MTc4NzA4LTI2YTc4YjUyMTY2NWE3NTQxOTJjYjY3M2NkNTVmYjM2M2JhZGYzNDM1Mzk4MzkxMDI5ZWNhOWUzMWVlYmI4NDE><i class="fa fa-slack fa-2x"></i></a></li></ul></div><div class="columns small-12 medium-3"><h2>Get Started Today</h2><p>Get immediate access to microPlatform source and binary builds for
today's most popular development boards by starting your evaluation subscription.</p></div></div><p class=copyright>Copyright 2018 &ndash; 2019 Foundries.io All rights reserved</p></footer><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-111281311-1','auto');ga('send','pageview');}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=/js/vendor/wow.min.js></script><script src=/js/vendor/what-input.min.js></script><script src=/js/vendor/hoverIntent.js></script><script src=/js/vendor/jquery.responsiveTabs.js></script><script src=/js/vendor/superfish.min.js></script><script src=/js/vendor/owl.carousel.min.js></script><script src=/js/vendor/foundation.min.js></script><script src=/js/custom.min.js></script></body></html>